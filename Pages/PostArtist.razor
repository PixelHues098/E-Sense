@page "/post-artist"
@using System.Net.Http
@using System.Net.Http.Json
@using System.Threading.Tasks
@inject HttpClient Http

<MudPaper Class="pa-16 ma-2" Elevation="0">
    <MudTextField @bind-Value="TitleInputStr" Label="First Data" Variant="Variant.Text"></MudTextField>
    <MudTextField @bind-Value="ArtistInputStr" Label="Second Data" Variant="Variant.Text"></MudTextField>
    <MudTextField @bind-Value="PriceInputStr" Label="Third Data" Variant="Variant.Text"></MudTextField>

    <MudButton Variant="Variant.Filled" Size="Size.Large" Color="Color.Tertiary" OnClick="@(()=>onSubmitArtistClick())">Submit</MudButton>
</MudPaper>

@code {

    public string TitleInputStr { get; set; } = string.Empty;
    public string ArtistInputStr { get; set; } = string.Empty;
    public string PriceInputStr { get; set; } = string.Empty;

    public async void onSubmitArtistClick()
    {
        var users1 = new RegisterUser { Title = TitleInputStr, Artist = ArtistInputStr, Price = PriceInputStr };
        await Http.PostAsJsonAsync("http://localhost:8080/albums", users1);
    }

    public class RegisterUser
    {
        public string Title { get; set; } = string.Empty;
        public string Artist { get; set; } = string.Empty;
        public string Price { get; set; } = string.Empty;
    }
}