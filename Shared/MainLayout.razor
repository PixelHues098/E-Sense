@inherits LayoutComponentBase

<MudThemeProvider @bind-IsDarkMode="@_isDarkMode" Theme="_theme" />
<MudDialogProvider />
<MudSnackbarProvider />

<MudScrollToTop>
    <MudFab Color="Color.Tertiary" Icon="@Icons.Filled.ArrowCircleUp" />
</MudScrollToTop>

<MudLayout>
    <MudAppBar Elevation="0" Dense="true" style=" background: rgb(80,0,214);
background: linear-gradient(90deg, rgba(80,0,214,1) 0%, rgba(177,65,170,1) 66%); opacity: 0.9;">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Edge="Edge.Start" Class="grey-text text-lighten-3"
            OnClick="@((e) => DrawerToggle())" />
        <MudSpacer />
        <MudMenu AnchorOrigin=@Origin.BottomCenter TransformOrigin=@Origin.TopRight>
            <ActivatorContent>
                <MudIconButton Icon="@Icons.Filled.AccountCircle" aria-label="account"
                    Class="grey-text text-lighten-3" />
            </ActivatorContent>
            <ChildContent>
                <MudMenuItem Href="/settings">Settings</MudMenuItem>
                <MudMenuItem>Profile</MudMenuItem>
                <MudMenuItem Href="/login">Sign Out</MudMenuItem>
            </ChildContent>
        </MudMenu>
        <MudIconButton OnClick="@((e) => ToggleDarkMode())" Icon="@Icons.Filled.DarkMode" aria-label="dark-mode"
            Class="grey-text text-lighten-3" />
    </MudAppBar>
    <MudDrawer @bind-Open="_drawerOpen" Elevation="1">
        <NavMenu />
    </MudDrawer>
    <MudMainContent>
        <MudContainer Fixed="true">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    bool _drawerOpen = true;
    private MudTheme _theme = new();
    public bool _isDarkMode;

    void ToggleDarkMode()
    {
        _isDarkMode = !_isDarkMode;
    }

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
}